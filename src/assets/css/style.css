/* css/style.css - Estilos complementarios a Tailwind */

/* VARIABLES */
:root {
  --primary: #0ea5e9;
  --accent: #0369a1;
  --muted: #6b7280;
}

/* ANIMACIONES */
@keyframes glow-pulse {
  0%, 100% {
    text-shadow: 0 0 5px rgba(14, 165, 233, 0.5), 0 0 10px rgba(14, 165, 233, 0.3);
  }
  50% {
    text-shadow: 0 0 20px rgba(14, 165, 233, 0.8), 0 0 30px rgba(14, 165, 233, 0.6), 0 0 40px rgba(14, 165, 233, 0.4);
  }
}

@keyframes shine {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}

/* CLASES PERSONALIZADAS */

.shipping-free {
  animation: glow-pulse 2s ease-in-out infinite;
  font-weight: 900;
  letter-spacing: 1px;
}

.badge-sale {
  animation: glow-pulse 1.5s ease-in-out infinite;
}

.frost-effect {
  backdrop-filter: blur(6px);
}

.marquee {
  background: linear-gradient(90deg, rgba(14, 165, 233, 0.12), rgba(3, 105, 161, 0.06));
  color: #022c43;
}

/* Responsividad extra */
@media (max-width: 640px) {
  .text-3xl {
    font-size: 1.75rem;
  }
  
  .text-2xl {
    font-size: 1.5rem;
  }
}


/* ESTILOS EXTRAS EXTRAÍDOS DEL HTML */
/* Header top marquee */
.marquee {
  background: linear-gradient(90deg, rgba(14, 165, 233, 0.12), rgba(3, 105, 161, 0.06));
  color: #022c43;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.badge-sale {
  background: linear-gradient(90deg, #ef4444, #f97316);
  color: white;
  padding: 0.25rem 0.6rem;
  border-radius: 999px;
  font-weight: 800;
  font-size: 0.85rem;
}

.thumb {
  height: 64px;
  width: 96px;
  object-fit: cover;
  border-radius: 8px;
  border: 2px solid #fff;
  box-shadow: 0 6px 18px rgba(2, 6, 23, 0.08);
}

.sale-popup {
  position: fixed;
  bottom: 18px;
  left: 18px;
  background: rgba(255, 255, 255, 0.98);
  padding: 12px 14px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.14);
  display: none;
  z-index: 60;
  width: 320px;
  max-width: calc(100% - 36px);
}

.stock-bar {
  height: 10px;
  background: #e6f4ff;
  border-radius: 999px;
  overflow: hidden;
}

.stock-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), #7dd3fc);
  width: 100%;
  transition: width 0.8s ease;
}

.frost {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2));
  backdrop-filter: blur(6px);
}

/* ANIMACIONES DE DESTELLO Y BRILLO */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes glow-pulse {
  0%, 100% {
    text-shadow: 0 0 5px rgba(14, 165, 233, 0.5), 0 0 10px rgba(14, 165, 233, 0.3);
  }
  50% {
    text-shadow: 0 0 20px rgba(14, 165, 233, 0.8), 0 0 30px rgba(14, 165, 233, 0.6), 0 0 40px rgba(14, 165, 233, 0.4);
  }
}

@keyframes shine {
  0% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.5;
  }
}

/* Estilos de textos atractores */
.shipping-free {
  animation: glow-pulse 2s ease-in-out infinite, shine 3s ease-in-out infinite;
  font-weight: 900;
  letter-spacing: 1px;
}

.badge-sale {
  background: linear-gradient(90deg, #ef4444, #f97316);
  color: white;
  padding: 0.25rem 0.6rem;
  border-radius: 999px;
  font-weight: 800;
  font-size: 0.85rem;
  animation: glow-pulse 1.5s ease-in-out infinite;
}

/* Textos verdes más atractivos */
.text-emerald-600, 
.text-emerald-700,
.shipping-cost {
  animation: shine 2.5s ease-in-out infinite;
  font-weight: 700;
}

.text-emerald-600 {
  text-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
}

/* Contador de oferta - Color atractivo sin parecer botón */
#countdown-inline {
  color: #f59e0b !important;
  font-weight: 800 !important;
  font-size: 1.1em !important;
  text-shadow: 0 2px 8px rgba(245, 158, 11, 0.3) !important;
  animation: shine 2s ease-in-out infinite;
}

/* typography excitement */
.headline {
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto;
  letter-spacing: -0.5px;
}

@media (min-width: 768px) {
  .thumb {
    height: 72px;
    width: 112px;
  }
}

/* 1. TIPOGRAFÍA Y BASE */
body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #ECEFF1; /* Gris claro */
    color: #333;
    overflow-x: hidden;
    padding-top: 0; /* Ya no hay padding fijo, el header no se ancla */
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 15px;
}

/* --- EFECTO 3D PARA CONTENEDORES --- */
.content-box {
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.05), /* Sombra suave hacia abajo */
        0 6px 20px rgba(0, 0, 0, 0.03); /* Sombra más difusa */
    padding: 20px;
    border: 1px solid #e0e0e0;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.content-box:hover {
    transform: translateY(-3px);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.08),
        0 8px 25px rgba(0, 0, 0, 0.05);
}


/* --- BARRA SUPERIOR DINÁMICA --- */
.header-top-dynamic {
    background-color: #ff8c00; /* Naranja */
    height: 35px;
    width: 100%;
    overflow: hidden; /* Para el efecto de texto moviéndose */
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1060;
}
.dynamic-offer-message {
    white-space: nowrap;
    animation: marquee 15s linear infinite; /* Animación de desplazamiento */
    display: block;
    padding: 0 100%; /* Para que el texto se salga por completo y vuelva a entrar */
    font-size: 0.95em;
}
@keyframes marquee {
    0%   { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}

/* Animación de parpadeo de color para la barra superior */
@keyframes pulse-background {
    0% { background-color: #ff8c00; } /* Naranja normal */
    50% { background-color: #e67e00; } /* Naranja oscuro */
    100% { background-color: #ff8c00; }
}
.header-top-dynamic.pulsing {
    animation: pulse-background 3s infinite;
}


/* --- HEADER PRINCIPAL (AHORA NO FIJO) --- */
.header-main {
    position: relative; /* Ya no es fixed */
    top: 0;
    width: 100%;
    z-index: 1050;
    border-bottom: 1px solid #ddd;
}
.menu-bar-bottom {
    background-color: #001f5f !important; /* Azul oscuro */
    font-size: 0.95em;
    padding: 5px 0;
}
.menu-bar-bottom .container {
    max-width: 960px;
    padding: 0 15px;
}
.menu-bar-bottom .nav-link {
    color: white !important;
    padding: 8px 15px !important;
    transition: background-color 0.2s;
}
.menu-bar-bottom .nav-link:hover {
    background-color: #00337f;
    border-radius: 4px;
}
.navbar-toggler { border: none !important; padding: 0; }
.navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}

/* --- BREADCRUMBS --- */
.breadcrumb-container {
    background-color: #f8f9fa; /* Fondo ligeramente diferente al body */
    border-bottom: 1px solid #e9ecef;
    font-size: 0.85em;
    padding: 10px 15px;
}
.breadcrumb-item a {
    color: #007bff; /* Color de link azul */
    text-decoration: none;
}
.breadcrumb-item.active {
    color: #6c757d; /* Gris para el elemento activo */
}


/* 2. DISEÑO DEL PRODUCTO Y LAYOUT */
.product-media { border: none !important; }
.product-info-box { border: none !important; }

.badge-discount {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #E91E63; /* Color de urgencia */
    color: white;
    padding: 8px 12px;
    border-radius: 50%;
    font-size: 1.2em;
    font-weight: 700;
    z-index: 10;
}

/* Tipografía de Producto y Urgencia */
h1 { 
    font-weight: 900 !important; 
    color: #1a1a1a; 
    font-size: 1.8em; 
}
.rating { color: #FFC107; font-size: 1.1em; }
.discount-percent { font-size: 0.6em; background-color: #f44336; color: white; padding: 3px 6px; border-radius: 3px; vertical-align: top; }

/* ESTILOS DE BOTÓN DE PAGO (VERDE VIBRANTE) */
.cta-buy-online, .cta-flotante, .btn-pay-full { 
    background-color: #4CAF50 !important; /* Verde vibrante */
    color: white !important;
    border-radius: 8px;
    padding: 12px 20px;
    font-size: 1.25em;
    font-weight: 700;
    border: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s ease, transform 0.2s ease;
    text-decoration: none; /* Asegura que los enlaces se vean como botones */
}
.cta-buy-online:hover, .cta-flotante:hover, .btn-pay-full:hover {
    background-color: #42a047 !important; /* Verde más oscuro al hover */
    transform: translateY(-2px);
}
/* FIN ESTILOS BOTÓN PAGO */

/* ESTILOS BOTÓN VOLVER */
.btn-volver {
    color: white;
    font-weight: 700;
    background: transparent;
    border: 1px solid white; 
    padding: 5px 10px;
    border-radius: 4px;
    text-decoration: none;
    transition: background-color 0.2s;
    line-height: 1; 
}
.btn-volver:hover {
    background-color: rgba(255, 255, 255, 0.15); 
}
/* FIN ESTILOS BOTÓN VOLVER */


/* CAMBIO: Barra de Stock con gradiente */
.stock-progress-bar {
    height: 10px;
    background-color: #e0e0e0;
    border-radius: 5px;
    overflow: hidden;
    margin-top: 5px;
}
.stock-fill {
    height: 100%;
    width: 100%; 
    background: linear-gradient(to right, #ff3b3b, #ffcc00, #4CAF50); /* Rojo, Amarillo, Verde */
    background-size: 200% 100%; 
    background-position: 100%; 
    border-radius: 5px;
    transition: background-position 0.8s ease-out, width 0.8s ease-out; 
}

/* Nueva barra de envío superior */
.shipping-info-bar {
    background-color: #e8f5e9; /* Fondo verde claro */
    border: 1px solid #a5d6a7; /* Borde verde */
    color: #212121;
    font-size: 0.9em;
}


/* Urgency Bar - Ajuste de color y fuente */
.urgency-bar {
    background-color: #ffebee; /* Rojo muy claro */
    border: 1px solid #ffcdd2; /* Borde rojo claro */
    color: #C62828;
    font-weight: 700;
}


/* CAMBIO: Info de envío, devoluciones y compra segura */
.shipping-details-icons {
    padding-top: 15px;
    border-top: 1px solid #eee;
}
.shipping-details-icons .fa-truck { color: #1976d2; /* Azul para envío */ }
.shipping-details-icons .fa-undo { color: #d32f2f; /* Rojo para devoluciones */ }
.shipping-details-icons .fa-shield-alt { color: #388e3c; /* Verde para seguridad */ }
.shipping-details-icons p { line-height: 1.2; }


/* CAMBIO: Barra de métricas */
.metrics-bar {
    /* Ya usa .content-box para el estilo 3D */
    padding: 15px 10px;
}
.metrics-bar .metric-icon { margin-bottom: 5px; }
.metrics-bar .metric-value { font-size: 1.3em; color: #333; }
.metrics-bar .metric-label { font-size: 0.75em; color: #777; line-height: 1.2; }


/* LÍNEA DE TIEMPO: Estilos para encapsular Íconos (CORRECCIÓN) */
.shipping-timeline {
    position: relative;
    padding-top: 25px;
    margin-top: 20px;
}
.timeline-icons-container {
    display: flex;
    justify-content: space-around; 
    align-items: flex-start;
    position: relative;
    z-index: 2;
}
.shipping-timeline::before {
    content: '';
    position: absolute;
    top: 35%; /* Ajusta la posición vertical de la línea */
    left: 10%; 
    right: 10%; 
    height: 3px;
    background: linear-gradient(to right, #4CAF50 0%, #4CAF50 50%, #e0e0e0 50%, #e0e0e0 100%); 
    z-index: 1;
    transform: translateY(-50%);
}
.shipping-timeline .timeline-step {
    flex: 1;
    text-align: center;
    position: relative;
}

/* Estilos de Ícono Encapsulado */
.timeline-icon {
    /* Base del círculo */
    background-color: #e0e0e0;
    color: #777;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex; /* Para centrar el ícono interno */
    align-items: center;
    justify-content: center;
    margin: 0 auto 5px auto;
    transition: background-color 0.3s, color 0.3s;
    font-size: 1.2em; /* Tamaño del ícono */
    border: 2px solid #ccc;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1); /* Sombra para simular profundidad */
}
.timeline-icon-active {
    background-color: #4CAF50 !important; /* Verde para el paso activo */
    color: white !important;
    border-color: #4CAF50 !important;
}
/* Asegurar que el texto debajo de cada icono esté alineado */
.timeline-step p {
    line-height: 1.2;
    margin-bottom: 0;
    text-align: center;
}


/* Contador de Oferta: Estilos Profesionales */
.timer-float-box {
    background-color: #333 !important;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}
.countdown-timer {
    font-size: 2.2em; 
    font-weight: 900; 
    letter-spacing: 2px; 
    color: #FFC107; /* Color dorado/amarillo para urgencia */
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    animation: pulse-countdown 1.5s infinite;
}

@keyframes pulse-countdown {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.02); opacity: 0.95; }
    100% { transform: scale(1); opacity: 1; }
}
/* Fin Contador */


/* 3. CTA FLOTANTE Y RESPONSIVIDAD */
.cta-flotante {
    position: fixed; bottom: 0; left: 0; width: 100%; padding: 15px 10px;
    background-color: #4CAF50 !important; /* Verde */
    color: white !important;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2); z-index: 1000;
    animation: pulse 1.8s infinite;
}
/* No hay media query para desktop porque el header ya no es fixed */
@media (min-width: 992px) {
    .cta-flotante { display: none; } /* Ocultar en desktop */
    body { padding-top: 0; } /* Ya no necesitamos padding extra */
    .product-info-box.sticky-top { top: 20px; } /* Ajustar para que no se pegue al borde superior si el header no es fijo */
}

/* 4. ESTILOS POP-UPS Y CHECKOUT */

/* Nuevo estilo del Pop-up de Venta (similar a la imagen 1) */
.sale-popup {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background-color: #001f5f; /* Fondo azul oscuro como el de la imagen */
    color: white;
    padding: 10px 15px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 3000;
    display: flex; 
    align-items: center;
    max-width: 300px; 
}
.sale-popup-thumbnail {
    width: 50px;
    height: 50px;
    border-radius: 8px; 
    object-fit: cover;
    flex-shrink: 0; 
}
.sale-popup-text {
    font-size: 0.85em;
    line-height: 1.2;
}
.sale-popup-time {
    font-size: 0.7em;
    color: #bbb !important; 
}
.btn-close-sale-popup {
    background: none;
    border: none;
    color: white;
    font-size: 1.1em;
    margin-left: auto; 
    opacity: 0.8;
    transition: opacity 0.2s;
}
.btn-close-sale-popup:hover {
    opacity: 1;
}

/* Estilos de formulario y botones de pago */
.discount-info { color: #E91E63; }
.whatsapp-alert { background-color: #e6ffec; color: #00796B; }
.shipping-method-option label:has(input[type="radio"]:checked) { border-color: #4CAF50 !important; }
.shipping-cost { color: #4CAF50; }

/* ESTILOS AÑADIDOS PARA EL FORMULARIO DE CHECKOUT (input-group y títulos) */
.input-group-text {
    /* Color gris claro para el fondo del ícono, como en la imagen */
    background-color: #e9ecef; 
    /* Borde redondo para el ícono */
    border-radius: 0.375rem 0 0 0.375rem; 
    padding: 0.375rem 0.75rem;
    border: 1px solid #ced4da;
    border-right: none;
    color: #495057; /* Color del ícono */
}

.input-group .form-control {
    border-left: none;
}

/* Ajuste de margen para los títulos */
.form-title {
    margin-top: 1rem; /* Espacio extra sobre el título */
}

/* --- ESTILOS ADICIONALES PARA EL NUEVO FOOTER --- */
.footer-top-icons p { 
    margin-bottom: 0.2rem !important; 
}
.footer-top-icons .fa-2x {
    min-width: 30px; 
}

/* ESTILOS CHECKOUT PAGE */
body {
    background-color: #ECEFF1; 
    padding-top: 20px;
    font-family: 'Roboto', sans-serif;
}

.checkout-wrapper {
    max-width: 1200px; 
    margin: 0 auto;
}

.checkout-header-custom {
    background-color: #001f5f; 
    color: white;
    padding: 10px 15px;
    border-radius: 10px 10px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

@media (max-width: 991.98px) {
    .sidebar-checkout {
        display: none;
    }
}

.form-title {
    font-size: 1em;
    font-weight: 700;
    margin-bottom: 5px;
    color: #333;
}

/* BOTÓN PAGA AL RECIBIR - DINÁMICO */

/* Estado deshabilitado (gris) */
.btn-paga-recibir:disabled {
  background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
  color: white;
  opacity: 0.75;
  cursor: not-allowed;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  position: relative;
}

/* Hover en estado deshabilitado - mostrar tooltip */
.btn-paga-recibir:disabled:hover::before {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background-color: #1f2937;
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.875rem;
  white-space: nowrap;
  z-index: 10;
  margin-bottom: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  animation: tooltip-fade 0.3s ease;
}

/* Flecha del tooltip */
.btn-paga-recibir:disabled:hover::after {
  content: '';
  position: absolute;
  bottom: calc(100% - 4px);
  left: 50%;
  transform: translateX(-50%);
  border: 4px solid transparent;
  border-top-color: #1f2937;
  z-index: 10;
  animation: tooltip-fade 0.3s ease;
}

@keyframes tooltip-fade {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(5px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* Estado habilitado (verde con destello) */
.btn-paga-recibir:not(:disabled) {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  animation: pulse-glow 2s ease-in-out infinite;
  box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  transition: all 0.3s ease;
}

/* Hover en estado habilitado */
.btn-paga-recibir:not(:disabled):hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  box-shadow: 0 0 30px rgba(16, 185, 129, 0.8);
  transform: scale(1.02);
}

/* Active (al presionar) */
.btn-paga-recibir:not(:disabled):active {
  transform: scale(0.98);
}

/* Animación de destello/brillo */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(16, 185, 129, 0.8), 0 0 60px rgba(16, 185, 129, 0.5);
  }
}